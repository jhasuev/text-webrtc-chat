{"version":3,"sources":["webpack:///./src/views/Search.vue","webpack:///./src/views/Search.vue?0900"],"names":["class","role","stop","name","data","socket","ACTIONS","mounted","this","setTitle","emit","START_SEARCHING","on","START_DISCUSSION","setSelfInfo","$router","push","STOP_SEARCHING","methods","render"],"mappings":"4IACOA,MAAM,e,EACT,eAAuC,MAAnCA,MAAM,QAAO,qBAAiB,G,EAClC,eAEM,OAFDA,MAAM,QAAM,CACf,eAA+D,OAA1DA,MAAM,gCAAgCC,KAAK,a,mDAHpD,eAMM,MANN,EAMM,CALJ,EACA,EAGA,eAAuE,UAA/DD,MAAM,kBAAmB,QAAK,8BAAE,EAAAE,MAAA,EAAAA,KAAA,sBAAM,sB,6DASnC,GACbC,KAAM,SACNC,KAFa,WAGX,MAAO,CACLC,SAAA,KACAC,QAAA,MAGJC,QARa,WAQH,WACRC,KAAKC,SAAS,qBAEdJ,EAAA,KAAOK,KAAK,IAAQC,iBAEpBN,EAAA,KAAOO,GAAG,IAAQC,kBAAkB,SAAAT,GAElC,EAAKU,YAAYV,GAEjB,EAAKW,QAAQC,KAAK,CAAEb,KAAM,YAG5BE,EAAA,KAAOO,GAAG,IAAQK,gBAAgB,WAChC,EAAKF,QAAQC,KAAK,CAAEb,KAAM,aAG9Be,QAAS,iCACJ,eAAW,CAAE,iBADX,IAGLhB,KAHO,WAILG,EAAA,KAAOK,KAAK,IAAQO,oBCxC1B,EAAOE,OAASA,EAED","file":"js/chunk-2d0bd977.9d4039a2.js","sourcesContent":["<template>\r\n  <div class=\"text-center\">\r\n    <h4 class=\"mb-3\">Поиск собеседника</h4>\r\n    <div class=\"mb-4\">\r\n      <div class=\"spinner-border text-secondary\" role=\"status\"></div>\r\n    </div>\r\n    <button class=\"btn btn-primary\" @click=\"stop\">Остановить поиск</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport socket from \"@/socket/\"\r\nimport ACTIONS from \"@/socket/actions\"\r\nimport { mapActions } from \"vuex\"\r\n\r\nexport default {\r\n  name: \"Search\",\r\n  data() {\r\n    return {\r\n      socket,\r\n      ACTIONS,\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setTitle(\"Поиск собеседника\")\r\n\r\n    socket.emit(ACTIONS.START_SEARCHING)\r\n\r\n    socket.on(ACTIONS.START_DISCUSSION, data => {\r\n      // тут будет хранится данные о текущем пользователя (не собеседник) { socket, makeOffer }\r\n      this.setSelfInfo(data)\r\n\r\n      this.$router.push({ name: \"chat\" })\r\n    })\r\n\r\n    socket.on(ACTIONS.STOP_SEARCHING, () => {\r\n      this.$router.push({ name: \"home\" })\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions([ 'setSelfInfo' ]),\r\n\r\n    stop() {\r\n      socket.emit(ACTIONS.STOP_SEARCHING)\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import { render } from \"./Search.vue?vue&type=template&id=e5759c62\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}